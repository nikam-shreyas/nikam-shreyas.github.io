<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Streamlining Multimodal Dataset Creation</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="icon" href="../images/profile-pic-2.png" type="image/x-icon" />
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <div
      class="container my-3 mx-auto parent-container"
      style="max-width: 47.5rem"
    >
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <a class="navbar-brand" href="../index.html"><b>SHREYAS NIKAM</b></a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item p-2">
                <a class="nav-link" aria-current="page" href="../about.html"
                  >About</a
                >
              </li>
              <li class="nav-item p-2">
                <a class="nav-link" href="../blog.html">Blog</a>
              </li>
              <li class="nav-item p-2 dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdownMenuLink"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Projects
                </a>
                <ul
                  class="dropdown-menu"
                  aria-labelledby="navbarDropdownMenuLink"
                >
                  <li>
                    <a class="dropdown-item" href="../projects.html"
                      >Notable Projects</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="projectideas.html"
                      >Project Ideas</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
            <div class="d-flex">
              <!-- Change Theme Button -->
              <span
                role="button"
                class="fa-solid p-2 mt-1 fa-moon p-2"
                id="theme"
                onclick="changeTheme()"
                type="submit"
              ></span>
              <!-- Change Theme Button Ends -->
            </div>
          </div>
        </div>
      </nav>
      <!-- Navbar Ends -->

      <!-- Blog 2 starts -->
      <div>
        <p class="h2 mt-4">
          <!-- Title -->
          <a href="#" class="link"
            ><b>Streamlining Multimodal Dataset Creation with Python</b>
          </a>
          <!-- End Title -->
        </p>
        <!-- Details -->
        <p class="h5 mt-3 text-secondary">
          Sep 08, 2023 • 7 min • LLMs •
          <span
            class="btn btn-sm btn-outline-secondary text-muted brand-text-github"
            role="button"
            onclick="window.open('https://www.github.com/nikam-shreyas/WarcParser')"
          >
            <span class="fa-brands mt-1 fa-github"></span>
            Source
          </span>
        </p>

        <!-- End Details -->
        <!-- Description -->

        <p class="mt-4 text-muted">
          The internet contains a vast trove of diverse, multimodal data that
          can be leveraged to train powerful AI models. Images, videos, audio
          clips, and text from web pages around the world provide abundant
          examples that can teach artificial neural networks to see, hear, read,
          and understand our world. However, tapping into this knowledge
          treasure requires collecting, cleaning, and structuring tremendous
          amounts of unstructured web data into usable training datasets. This
          crucial data processing step enables the unique promise of AI while
          also posing immense technological challenges.
        </p>
        <p class="h4 mt-4">Genesis of the idea</p>
        <p class="mt-2 text-muted">
          How can we rapidly ingest petabytes of messy web crawl data and
          transform it into high-quality, integrated datasets ready for an AI
          model to learn from? Efficiently generating coherent, clean multimodal
          datasets from raw web scrapes has become a fundamental obstacle on the
          road to more capable AI systems. To overcome this obstacle, I
          developed an open source Python tool called WARC Processor. By
          optimizing the pipeline for downloading, filtering, and integrating
          common web crawl data, WARC Processor streamlines the workflow for
          producing diverse multimodal datasets to advance AI research.
        </p>

        <p class="h4 mt-4">The Problem</p>
        <p class="mt-2 text-muted">
          Common Crawl is a great source of diverse web page data. However,
          directly using raw WARC files is difficult for several reasons:
        </p>
        <ul class="text-muted mt-4">
          <li>
            The files are huge (100s of GBs to 1TB+) and take a long time to
            download and process.
          </li>
          <li>
            They contain lots of boilerplate content like navigation bars and
            footers.
          </li>
          <li>The data is very unstructured and messy.</li>
        </ul>

        <p class="text-muted mt-4">
          Cleaning and filtering this data into a usable, coherent dataset for
          an AI model is non-trivial.
        </p>

        <p class="h4 mt-4">Key objectives</p>

        <ol class="text-muted mt-2">
          <li>
            <span class=""><b>Efficiency and Scalability:</b></span>
            The primary goal was to create a tool that could efficiently process
            large WARC files, making it suitable for a wide range of
            applications.
          </li>

          <li>
            <span class=""><b>Boilerplate Removal:</b></span> One of the
            challenges with raw web data is the presence of boilerplate content.
            The tool needed to intelligently filter out redundant text to ensure
            the dataset's quality.
          </li>

          <li>
            <span class=""><b>Flexibility:</b></span> I wanted to design the
            tool with flexibility in mind, allowing users to either download
            WARC files directly or process existing ones.
          </li>
        </ol>

        <p class="h2 mt-4">The Journey Begins: Design and Architecture</p>

        <p class="mt-2 text-muted">
          The foundation of the WARC Processor lies in its design. I opted for a
          Python-based solution, leveraging the extensive libraries and modules
          available in the Python ecosystem. The project is structured around
          the principles of modularity and efficiency.
        </p>

        <p class="h4 mt-4">Streaming and Chunked Processing</p>
        <p class="text-muted mt-2">
          To handle large files, I implemented a streaming approach combined
          with chunked processing. This meant that instead of loading the entire
          file into memory, the tool processes it in smaller, manageable chunks.
          This not only reduces memory overhead but also allows for the
          processing of massive WARC files.
        </p>

        <p class="h4 mt-4">Asynchronous Downloading</p>
        <p class="text-muted mt-2">
          To expedite the download process, I introduced asynchronous
          downloading using the <code class="m-5"> `asyncio`</code> library.
          This meant that the tool could download WARC files in parallel,
          significantly reducing download times. What used to take around 20
          minutes now takes just 5 minutes.
        </p>

        <p class="h4 mt-4">Parallel Processing</p>
        <p class="text-muted mt-2">
          Recognizing the potential for parallelism in processing WARC records,
          I incorporated multithreading. This optimization allows the tool to
          process multiple WARC records simultaneously, resulting in a
          substantial boost in processing speed.
        </p>

        <p class="h4 mt-4">Assumptions and Refinements</p>

        <p class="text-muted mt-2">
          As with any project, there were certain assumptions and areas for
          refinement:
        </p>

        <ul class="text-muted mt-4">
          <li>
            <b>Focused on 'Response' Records:</b> The WARC Processor prioritizes
            'response' records for processing. This is because the crucial
            information required for model training is predominantly found in
            these records. While 'revisit' and 'resource' records may be
            considered for future enhancements, the current focus ensures a
            streamlined and targeted approach.
          </li>

          <li>
            <b>Refined Hyperlink Handling:</b> Hyperlinks leading to other pages
            are meticulously curated. With the exception of those encapsulated
            within images, videos, and audios, all other links are removed. This
            ensures that only relevant links are retained, aligning with the
            goal of creating a high-quality dataset.
          </li>

          <li>
            <b>Multimedia Link Management:</b> Some audio and video files may
            contain multiple links. To accommodate this, all links associated
            with multimedia content are preserved in a comma-separated format.
            This meticulous approach ensures accurate capture of
            multimedia-related links.
          </li>

          <li>
            <b>Selective Special Character Preservation:</b> Rather than an
            indiscriminate removal, the WARC Processor adopts a discerning
            approach towards special characters. A targeted set of special
            characters is retained, preserving the authenticity, context, and
            linguistic nuances of websites in various languages.
          </li>
        </ul>

        <p class="h4 mt-4">Installation</p>

        <p class="text-muted mt-4">
          Get up and running with the WARC Processor in no time:
        </p>

        <code class="m-5"> pip install -r requirements.txt </code>

        <p class="text-muted mt-4">
          Once dependencies are installed, execute the project by typing:
        </p>

        <code class="m-5"> python warc_processor.py [OPTIONS] </code>

        <p class="text-muted mt-4">
          For a comprehensive list of available options, run:
        </p>

        <code class="m-5"> python warc_processor.py --help </code>

        <ul class="mt-4">
          <li>
            `--url`: Specify the URL of the WARC file you wish to download.
          </li>

          <li>
            `--existing_file_path`: Provide the path to an existing WARC file
            for processing.
          </li>

          <li>
            `--num_workers`: Determine the number of workers dedicated to
            processing.
          </li>
        </ul>

        <p class="text-muted mt-4">
          For instance, to download and process a WARC file from the Common
          Crawl website, use:
        </p>

        <code class="m-5">
          python warc_processor.py --url
          https://data.commoncrawl.org/crawl-data/CC-MAIN-2023-23/segments/1685224643388.45/warc/CC-MAIN-20230527223515-20230528013515-00003.warc.gz
        </code>

        <p class="text-muted mt-4">
          For processing an existing WARC file, use:
        </p>

        <code class="m-5">
          python warc_processor.py --existing_file_path
          /path/to/warc_file.warc.gz
        </code>

        <p class="h4 mt-4">Optimizing for the Future</p>

        <p class="text-muted mt-2">
          As with any project, there is always room for improvement. Here are
          some future enhancements I have in mind:
        </p>

        <ul class="text-muted mt-4">
          <li>
            <b>WAT and WET Integration:</b> Integrate WAT and WET files for even
            more refined record processing.
          </li>

          <li>
            <b>Enhanced Inline Anchor Tag Handling:</b> Implement more
            sophisticated handling of inline anchor tags with text for
            comprehensive processing.
          </li>

          <li>
            <b>Distributed Computing Frameworks:</b> Explore the potential of
            frameworks like Apache Spark or Dask for distributed processing
            across multiple nodes or clusters.
          </li>

          <li>
            <b>Batch I/O Operations:</b> Optimize I/O operations through batch
            processing techniques.
          </li>

          <li>
            <b>Integration Galore:</b> Add more integrations to enhance the
            tool's versatility and applicability.
          </li>
        </ul>

        <p class="h4 mt-4">Acknowledgments</p>
        <p class="text-muted mt-2">
          Creating the WARC Processor wouldn't have been possible without the
          invaluable contributions from the open-source community. Special
          thanks to projects like Fastwarc, Resiliparse, CleanText, and the
          Common Crawl initiative. Their contributions have been instrumental in
          shaping this tool.
        </p>

        <p class="h4 mt-4">In Conclusion</p>
        <p class="text-muted mt-2">
          The WARC Processor stands as a testament to the power of open-source
          collaboration and the limitless potential of Python in data
          processing. It's not just a tool; it's a testament to the innovative
          spirit of the tech community. With the WARC Processor at your
          disposal, you're equipped to dive deep into WARC files, extract
          invaluable data, and embark on exciting new avenues of analysis and
          modeling.
        </p>
        <p class="text-muted mt-2">
          Creating the WARC Processor has been a fulfilling journey, and I'm
          excited to see how it empowers others in their language processing
          endeavors. Happy processing!
        </p>

        <!-- End Description -->
      </div>
      <!-- Blog 2 Ends -->
      <hr class="mt-4" />
      <p class="h4 fw-bold">My other posts:</p>

      <div>
        <p class="h5 mt-3">
          <!-- Title -->
          <a href="blog-2-ctp.html" class="link"
            ><span class="h4">🌏</span> The power of data for good
          </a>
          <!-- End Title -->
        </p>
        <!-- Details -->
        <p class="h6 text-muted">Sep 15, 2023 • 2 min • Non-profit</p>
        <p class="h5 mt-4">
          <!-- Title -->
          <a href="blog-3-projectminusone.html" class="link"
            ><span class="h4">🌳</span> Project Minus One
          </a>
          <!-- End Title -->
        </p>
        <!-- Details -->
        <p class="h6 text-muted">June 15, 2018 • 2 min • Environment</p>
      </div>

      <!-- Footer -->
      <div>
        <div class="text-muted mb-5 pb-1">
          <hr />
          <span class="float-start">
            ©
            <a href="../index.html"> Shreyas Nikam</a>
          </span>
          <span class="float-end">
            <a href="https://www.linkedin.com/in/nikam-shreyas"
              ><span
                role="button"
                class="fa-brands fa-linkedin brand-text-linkedin fa-lg mx-1"
              ></span
            ></a>
            <a href="https://www.github.com/nikam-shreyas"
              ><span
                role="button"
                class="fa-brands fa-github brand-text-github fa-lg mx-1"
              ></span
            ></a>
            <a href="https://www.instagram.com/n.5hreyas/"
              ><span
                role="button"
                class="fa-brands fa-instagram brand-text-instagram fa-lg mx-1"
              ></span
            ></a>
          </span>
        </div>
      </div>
      <!-- Footer ends -->
    </div>

    <script src="../script.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://kit.fontawesome.com/db82bcb696.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
